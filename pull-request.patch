From fe8ee1cf062aba2de69d2342a43289fd13c1c45f Mon Sep 17 00:00:00 2001
From: Brett Wooldridge <brett.wooldridge@gmail.com>
Date: Fri, 14 Jul 2017 21:08:15 +0900
Subject: [PATCH] Kotlin documentation enhancements.

---
 docs/rule/kotlin_library.soy |  8 +++++++-
 docs/rule/kotlin_test.soy    | 19 ++++++++-----------
 2 files changed, 15 insertions(+), 12 deletions(-)

diff --git a/docs/rule/kotlin_library.soy b/docs/rule/kotlin_library.soy
index 89fb7015d2b..24abd6749e8 100644
--- a/docs/rule/kotlin_library.soy
+++ b/docs/rule/kotlin_library.soy
@@ -34,7 +34,13 @@ of the compiled class files and resources.
   {param name: 'srcs' /}
   {param default: '[]' /}
   {param desc}
-  The set of <code>.kt</code> or <code>.kts</code> files to compile for this rule.
+  The set of <code>.kt</code>, <code>.kts</code>, or <code>.java</code> files to compile for this
+  rule.  If <code>.java</code> files are included, in additon to compiling the Kotlin files, the
+  Java files will be compiled as if by the <code>{call buck.java_library /}</code> target, and the
+  <code>.class</code> files will be included in the output JAR.  Specifying both Kotlin and Java
+  sources files allows the resolution of inter-dependencies and circular references between the
+  Kotlin and Java classes.  <i>(Mixed compilation of Kotlin and Java files requires Kotlin v1.1.3 or
+  newer).</i>
   {/param}
 {/call}
 
diff --git a/docs/rule/kotlin_test.soy b/docs/rule/kotlin_test.soy
index ca3f3edc467..c04592a173f 100644
--- a/docs/rule/kotlin_test.soy
+++ b/docs/rule/kotlin_test.soy
@@ -31,17 +31,14 @@ A <code>kotlin_test()</code> rule is used to define a set of
   {param name: 'srcs' /}
   {param default : '[]' /}
   {param desc}
-  Like <code>{call buck.kotlin_library /}</code></a>,
-  all of the <code>.kt</code> files specified by the
-  {sp}<code>srcs</code> argument will be compiled when this rule is
-  built. In addition, all of the corresponding <code>.class</code>{sp}
-  files that are built by this rule will be passed as arguments to
-  JUnit when this rule is run as a test. <code>.class</code> files
-  that are passed to JUnit that do not have any methods annotated with
-  {sp}<code>@Test</code> are considered failed tests, so make sure that
-  only test case classes are specified as <code>srcs</code>. This is
-  frequently done by specifying <code>srcs</code> as
-  {sp}{literal}<code>glob(['**/*Test.kt'])</code>{/literal}.
+  Like <code>{call buck.kotlin_library /}</code>,
+  all of the <code>.kt</code>, <code>.kts</code>, and <code>.java</code> files specified by the{sp}
+  <code>srcs</code> argument will be compiled when this rule is built. In addition, all of the
+  corresponding <code>.class</code> files that are built by this rule will be passed as arguments
+  to JUnit when this rule is run as a test. <code>.class</code> files that are passed to JUnit that
+  do not have any methods annotated with <code>@Test</code> are considered failed tests, so make
+  sure that only test case classes are specified as <code>srcs</code>. This is frequently done by
+  specifying <code>srcs</code> as {literal}<code>glob(['**/*Test.kt'])</code>{/literal}.
   {/param}
 {/call}
 
